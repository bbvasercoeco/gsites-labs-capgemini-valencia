<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs title="menu portal Google Sites Labs - Capgemini Valencia" 
width="100%"
height="480"/>
<Content type="html" preferred_height="480"><![CDATA[
<head><script src="http://code.google.com/p/gsites-labs-capgemini-valencia/source/browse/trunk/JMCtemp/jquery-1.7.2.js" type="text/javascript"></script> </head>
<style> 	
		
#cabeceramenu {
        width: 960px;
        height: 65px;
        background-image:url(https://gsites-labs-capgemini-valencia.googlecode.com/svn/trunk/fondomenu.png);    
        margin:0;
        padding: 0;
        background-repeat: no-repeat;
		position:absolute;
		z-index:300;
		
	
}
#button {  
        padding: 5px 0 0 5px;
        height:60px;
        margin: 0 0 0 0px;
}  
#button li {  
        display: inline; 
        text-align: center; 
}  
#button li a {  
        font-family: Arial;  
        font-size:15px;  
        text-decoration: none;  
        float:left;  
        padding: 19px 0 0 0;   
        color: #fff;  
        width: 142px;
        height: 34px;
} 
#button li a.barralateral {  
        background-image: url("https://gsites-labs-capgemini-valencia.googlecode.com/svn/trunk/barralateralmenu.png");
    background-position: right 0;
    background-repeat: no-repeat;
} 
#button li a.first {  
        font-family: Arial;  
        font-size:15px;  
        text-decoration: none;  
        float:left;  
        padding: 5px 0 0 0;     
        color: #fff;  
        width: 60px;
        height:48px;
}  

#button li a#gas {  
        font-family: Arial;  
        font-size:15px;  
        text-decoration: none;  
        float:left;  
        padding: 19px 0 0 0;     
        color: #fff;  
        width: 142px;
        height:34px;
}
#button li a#noticias,
#button li a#gadgets {  
        font-family: Arial;  
        font-size:15px;  
        text-decoration: none;  
        float:left;  
        padding: 19px 0 0 0;     
        color: #fff;  
        width: 142px;
        height:34px;
}
#button li a#labs {  
        font-family: Arial;  
        font-size:15px;  
        text-decoration: none;  
        float:left;  
        padding: 19px 0 0 0;     
        color: #fff;  
        width: 142px;
        height:34px;
}
#button li a#tutoriales {  
        font-family: Arial;  
        font-size:15px;  
        text-decoration: none;  
        float:left;  
        padding: 9px 0 0 0;     
        color: #fff;  
        width: 142px;
        height:44px;
}
#button li a#enlaces {  
        font-family: Arial;  
        font-size:15px;  
        text-decoration: none;  
        float:left;  
        padding: 9px 0 0 0;     
        color: #fff;  
        width: 142px;
        height:44px;
}

#button li a:hover {  
        background-color: #2586d7;  
}  
#button li a:active {  
        background-color: #2586d7;  
}

#cabeceramenu #button li a.desactivado {
        color: #999;
}


.menu {font-family: arial, sans-serif; width:750px; height:30px; position:absolute; font-size:11px; z-index:100;visibility:visible;}
.menu ul li a, .menu ul li a:visited {display:block; text-decoration:none; color:#000;width:104px; height:20px; text-align:center; color:#fff; border:1px solid #fff; background:#5A2E2E; line-height:20px; font-size:11px; }
.menu ul {padding:0; margin:0; list-style: none;}
.menu ul li {float:left; position:relative;}
.menu ul li ul {display: none;}


.menu ul li:hover a {color:#fff; background:#36f;}
.menu ul li:hover ul {display:block; position:absolute; top:21px; left:0; width:105px;}
.menu ul li:hover ul li a.hide {background:#6a3; color:#fff;}
.menu ul li:hover ul li:hover a.hide {background:#6fc; color:#000;}
.menu ul li:hover ul li ul {display: none;}
.menu ul li:hover ul li a {display:block; background:#7C954A; color:#000;}
.menu ul li:hover ul li a:hover {background:#6fc; color:#000;}
.menu ul li:hover ul li:hover ul {display:block; position:absolute; left:105px; top:0;}
.menu ul li:hover ul li:hover ul.left {left:-105px;}


</style>
<div id="cabeceramenu">
        <div class="menu" ><ul>
                <li><a href="https://sites.google.com/site/gsiteslabscapgeminivalencia/home"  onmouseover="mopen('m1')"  onmouseout="mclosetime()" class="first" target="_parent" title="home"><img src="https://test-mlp.googlecode.com/svn/trunk/enlacehometrasp.png" alt="Home"/></a><div id="m1" 
            onmouseover="mcancelclosetime()" 
            onmouseout="mclosetime()" >
        <a href="#">HTML Drop Down</a>
        <a href="#">DHTML Menu</a>
        <a href="#">JavaScript DropDown</a>
        <a href="#">Cascading Menu</a>
        <a href="#">CSS Horizontal Menu</a>
		<a href="#">HTML Drop Down</a>
        <a href="#">DHTML Menu</a>
        <a href="#">JavaScript DropDown</a>
        <a href="#">Cascading Menu</a>
        <a href="#">CSS Horizontal Menu</a>
        </div></li>
                <li><a id="gadgets" href="https://sites.google.com/site/gsiteslabscapgeminivalencia/gadgets-finalizados" class="barralateral" target="_parent">Gadgets</a></li>
                <li><a id="gas" href="https://sites.google.com/site/gsiteslabscapgeminivalencia/gas" class="barralateral" target="_parent">GAS</a></li>
                <li><a id="labs" href="https://sites.google.com/site/gsiteslabscapgeminivalencia/home/labs" class="barralateral" target="_parent">Labs</a></li>  
                <li><a id="noticias" href="#" class="barralateral desactivado" >Noticias</a></li>
                <li><a id="tutoriales" href="https://sites.google.com/site/gsiteslabscapgeminivalencia/mini-tutoriales" class="barralateral" target="_parent">Mini<br/>Tutoriales</a></li>
                <li><a id="enlaces" href="#" class="desactivado">Enlaces<br>de Interes</a></li> 
        </ul>  
</div>
<script type="text/javascript">
gadgets.util.registerOnLoadHandler(datospagina);
function datospagina()
{
        var parametros = gadgets.util.getUrlParameters()["parent"];     
        if (parametros.indexOf("gadgets")!=-1)
        {
                document.getElementById("gadgets").style.backgroundColor = "#2586D7";
        }
        if (parametros.indexOf("tutoriales")!=-1)
        {
                document.getElementById("tutoriales").style.backgroundColor = "#2586d7";
        }
        if (parametros.indexOf("gas")!=-1)
        {
                document.getElementById("gas").style.backgroundColor = "#2586D7";
        }
        if (parametros.indexOf("noticias")!=-1)
        {
                document.getElementById("noticias").style.backgroundColor = "#2586D7";
        }
        if (parametros.indexOf("enlaces")!=-1)
        {
                document.getElementById("enlaces").style.backgroundColor = "#2586D7";
        }
        if (parametros.indexOf("/labs")!=-1)
        {
                document.getElementById("labs").style.backgroundColor = "#2586d7";
        }

}

var timeout	= 500;
var closetimer	= 0;
var ddmenuitem	= 0;

// open hidden layer
function mopen(id)
{	
	// cancel close timer
	mcancelclosetime();

	// close old layer
	if(ddmenuitem) ddmenuitem.style.visibility = 'hidden';

	// get new layer and show it
	ddmenuitem = document.getElementById(id);
	ddmenuitem.style.visibility = 'visible';
	// ddmenuitem.style.height="100%";
	ddmenuitem.style.zIndex="300";
	ddmenuitem.style.overflowY="auto";
}
// close showed layer
function mclose()
{
	if(ddmenuitem) ddmenuitem.style.visibility = 'hidden';
}

// go close timer
function mclosetime()
{
	closetimer = window.setTimeout(mclose, timeout);
}

// cancel close timer
function mcancelclosetime()
{
	if(closetimer)
	{
		window.clearTimeout(closetimer);
		closetimer = null;
	}
}

// close layer when click-out
document.onclick = mclose; 

</script>

<script type="text/javascript">
gadgets.util.registerOnLoadHandler(estilosIframes);
// console.debug('version 1');

function estilosIframes(){
var contador = $(document).parent().getElementsByTagName('iframe');
alert(contador);
 for(var i=2; i<=contador; i++){
  $("iframe").style("top","-100px");
  $("iframe").style("z-index","-1px");
 }
}
</script>


]]>
<!--<div>


<Module>
<ModulePrefs
   title="breadcrumbs"
   height="50"
   description="Script que genera los breadcrumbs de forma automÃ¡tica"
  
   >
<Require feature="dynamic-height"/>
<Require feature="setprefs" />
    </ModulePrefs>  
	
<UserPref name="VarrootSite" display_name="Root del Site" required="true" />
<Content type="html" view="configuration" preferred_height="480">

 <![CDATA[
 <style>
    input#VarrootSite {
           width: 300px;
          }
		  
  </style>
  
  <table width="100%" border="0" id="tablaconfig">           
            <tr>       
                <td>
                    Root del Site: <input type="text" id="VarrootSite" value="__UP_VarrootSite__"   onchange="registra('VarrootSite')"/>                   
                </td>
            </tr>
  </table>	
  
<script type="text/javascript">           
            // Get userprefs
            var prefs = new gadgets.Prefs();           
            function registra(variable)
            {	
                prefs.set(variable,document.getElementById(variable).value);
				
			
            }  
			
            gadgets.window.adjustHeight();
        </script>   
 ]]>
 </Content>
 <Content type="html">
 <![CDATA[
 
	<div id="title-crumbs">valor de title</div>
	
	<style>		
		#title-crumbs {
			font-size:13px;
			color:#3F78B2;
			text-transform: capitalize;
		}
		a.linkBreadCrumb,
		a:visited.linkBreadCrumb {
			fon-weight: normal;
			font-size:13px;
			color:#3F78B2;
			text-decoration:none;
			text-transform: capitalize;
		}
		a:hover.linkBreadCrumb,
		a:active.linkBreadCrumb {
			font-style: normal;
			font-size:13px;
			color:#009EE5;
			fon-weight: normal;
			text-decoration:none;		
			text-transform: capitalize;
		} 
		
	</style>
	
	<script type="text/javascript">	
		var prefs = new gadgets.Prefs();
		gadgets.util.registerOnLoadHandler(showBreadcrumbs);
		
	function indice (parametros, rootSite){
			
				for(var i=0; i<parametros.length; i++){
					if(parametros[i]== rootSite)
					{
					return i;
					}
					  
				}	
			}	
		function showBreadcrumbs()
		{
			// Construct the breadcrumb string
			
			
			
		    var rootSite = prefs.getString("VarrootSite");			
		    // alert(rootSite);
			// alert("aki entro");
			var s ="";
			var i,j,k = 0;
			var base = "";
			var barra = "/";
			var parametros = gadgets.util.getUrlParameters()["parent"].split("/");  
			var indexroot = indice(parametros, rootSite);   //parametros.indexOf(rootSite);
			
			
			
			
			
			for (i=0;i<parametros.length;i++)
			{				
				if(i<indexroot)
				{
					base = base + parametros[i]+ "/";				
				}
				if (parametros[i] == rootSite) 
				{	
					s = "&nbsp;<a class=\'linkBreadCrumb\' href=\'"+ base + rootSite + barra + "\' target=\'_parent\' title=\' " + parametros[i].replace(/-/g," ") + "  \'>home</a>";
				
					for(j=i+1;j<parametros.length;++j)
					{   
						var aux = parametros[j].replace(/-/g," ");
						if (aux.indexOf("?")>1)
						{
							var auxMov = aux.split("?");
							var litEnlace = auxMov[0];
						}
						else
						{
							var litEnlace = aux;
						}
						s = s + "<a class=\'linkBreadCrumb\' href=\'"+ base  + rootSite + barra  + parametros[j] + barra + "\' target=\'_parent\' title=\'" + litEnlace + "\'> >&nbsp;" + litEnlace + "</a>";
						rootSite = rootSite + "/" + parametros[j];
					}
				}
			}
			document.getElementById("title-crumbs").innerHTML = s;    
		}
	</script>
 ]]>
 
 </Content>
</Module>

</div>-->








</Content>
</Module>
